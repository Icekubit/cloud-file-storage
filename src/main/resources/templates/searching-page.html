<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="https://www.thymeleaf.org"
      xmlns:sec="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="UTF-8"/>
    <title>Searching page</title>
</head>
    <body>
        <div>
            <h1 th:inline="text">Hello <span th:remove="tag" sec:authentication="name">thymeleaf</span>!</h1>
            <div th:if="${#authorization.expression('isAuthenticated()')}">
                <form th:action="@{/logout}" method="post">
                    <input type="submit" value="Log out"/>
                </form>
            </div>
        </div>
        <div>
            <form th:action="@{/search/}" th:method="get" style="display: inline;">
                <label> Enter file or folder name : <input type="text" name="query"/></label>
                <input type="submit" value="Search"/>
            </form>
            <ul>
                <li th:each="item : ${foundItems}">
                    <div th:if="${item.getIsDirectory()}">
                        <a th:href="@{/(path=${#uris.escapePath(item.relativePath)})}"
                           th:text="${item.getPath()}"></a>
                    </div>
                    <div th:if="${!item.getIsDirectory()}">
                        <span th:text="${item.getPath()}"></span>
                        <a th:href="@{/(path=${#uris.escapePath(item.getRelativePathToParentFolder())})}">go to parent folder</a>
                    </div>
                </li>
            </ul>
        </div>
    </body>
</html>